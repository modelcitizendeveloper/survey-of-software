id: "1.009"
title: "Similarity Search Libraries"
subtitle: "FAISS, Annoy, ScaNN, datasketch (LSH, MinHash, SimHash)"
tier: 1
category: "Algorithms & Data Structures"
cluster: "similarity-search"

status:
  overall: "s4-complete"
  s1_rapid: "complete"
  s2_comprehensive: "complete"
  s3_need_driven: "complete"
  s4_strategic: "complete"
  explainer: "complete"

dates:
  evaluation_date: "2026-01-30"
  s1_completed: "2026-01-30"
  s2_completed: "2026-01-30"
  s3_completed: "2026-01-30"
  s4_completed: "2026-01-30"

sources:
  reconstruction_viable: true
  primary:
    - url: https://github.com/facebookresearch/faiss
      type: official_repo
      accessed: "2026-01-30"
      description: "FAISS - Meta's library for efficient similarity search"

    - url: https://faiss.ai/
      type: official_documentation
      accessed: "2026-01-30"
      description: "FAISS documentation"

    - url: https://pypi.org/project/faiss-cpu/
      type: package_registry
      accessed: "2026-01-30"
      description: "FAISS on PyPI (CPU version)"

    - url: https://github.com/spotify/annoy
      type: official_repo
      accessed: "2026-01-30"
      description: "Annoy - Spotify's approximate nearest neighbors library"

    - url: https://pypi.org/project/annoy/
      type: package_registry
      accessed: "2026-01-30"
      description: "Annoy on PyPI"

    - url: https://github.com/google-research/google-research/tree/master/scann
      type: official_repo
      accessed: "2026-01-30"
      description: "ScaNN - Google's state-of-the-art similarity search"

    - url: https://pypi.org/project/scann/
      type: package_registry
      accessed: "2026-01-30"
      description: "ScaNN on PyPI"

    - url: https://github.com/ekzhu/datasketch
      type: official_repo
      accessed: "2026-01-30"
      description: "datasketch - Probabilistic data structures for LSH, MinHash, SimHash"

    - url: https://pypi.org/project/datasketch/
      type: package_registry
      accessed: "2026-01-30"
      description: "datasketch on PyPI"

  secondary:
    - url: https://ann-benchmarks.com/
      type: reference
      accessed: "2026-01-30"
      description: "ANN Benchmarks - Approximate nearest neighbor algorithm comparison"

    - url: https://cloud.google.com/vertex-ai/docs/vector-search/overview
      type: reference
      accessed: "2026-01-30"
      description: "Vertex AI Vector Search (uses ScaNN)"

    - url: https://en.wikipedia.org/wiki/Locality-sensitive_hashing
      type: reference
      accessed: "2026-01-30"
      description: "Locality-sensitive hashing (LSH) overview"

tags:
  - similarity-search
  - vector-search
  - nearest-neighbors
  - approximate-nearest-neighbors
  - ann
  - lsh
  - minhash
  - simhash
  - embeddings
  - rag
  - recommendation-systems
  - deduplication

libraries_evaluated:
  - name: "FAISS"
    recommendation: "production-standard"
    stars: 38900
    license: "MIT"
    performance: "8.5x faster than previous SOTA"
    scale: "1.5 trillion vectors (Meta production)"
    gpu_support: true
    language: "C++ core + Python/Julia bindings"

  - name: "Annoy"
    recommendation: "simple-fast-prototyping"
    stars: 14100
    license: "Apache-2.0"
    performance: "53 QPS at 93.5% precision (1M vectors)"
    scale: "<10M vectors optimal"
    gpu_support: false
    language: "C++ core + Python/Lua/Go/Rust bindings"

  - name: "ScaNN"
    recommendation: "research-maximum-accuracy"
    stars: 37100
    license: "Apache-2.0"
    performance: "2x QPS at equivalent accuracy (2025)"
    scale: "Optimized for high-recall (>98%)"
    gpu_support: true
    language: "C++ core + Python/TensorFlow APIs"

  - name: "datasketch"
    recommendation: "probabilistic-sets-deduplication"
    stars: 2900
    license: "MIT"
    performance: "Sub-linear search via LSH"
    scale: "Billion-scale with constant memory"
    gpu_support: "partial (CuPy backend for MinHash)"
    language: "Python"

key_findings:
  - "FAISS is the production standard for dense vector search (RAG, embeddings)"
  - "Annoy is optimal for <10M vectors - simplest API, fastest to prototype"
  - "ScaNN achieves best accuracy (>98% recall) for inner-product metrics"
  - "datasketch is the go-to for set similarity (MinHash) and deduplication (SimHash)"
  - "All libraries optimize for batch index builds, not real-time updates"
  - "GPU acceleration (FAISS, ScaNN) provides 100x+ speedup for large-scale datasets"
  - "Choice depends on data type: dense vectors (FAISS/Annoy/ScaNN) vs sets (datasketch)"
  - "Annoy â†’ FAISS is common migration path as scale increases"

algorithm_support:
  ivf: ["FAISS"]
  pq: ["FAISS"]
  hnsw: ["FAISS", "datasketch"]
  random_projection_trees: ["Annoy"]
  anisotropic_quantization: ["ScaNN"]
  lsh: ["datasketch"]
  minhash: ["datasketch"]
  simhash: ["datasketch"]

use_cases:
  - persona: "AI Engineers (RAG Systems)"
    primary_need: "LLM retrieval-augmented generation"
    library_recommendation: "FAISS (industry standard, GPU support)"
    production_ready: true

  - persona: "Music/Content Platforms"
    primary_need: "Content recommendation, playlist generation"
    library_recommendation: "Annoy (Spotify's choice, proven at scale)"
    production_ready: true

  - persona: "Data Engineers"
    primary_need: "Document deduplication, near-duplicate detection"
    library_recommendation: "datasketch (MinHash/SimHash for text)"
    production_ready: true

  - persona: "E-commerce Developers"
    primary_need: "Product similarity, visual search"
    library_recommendation: "FAISS (handles high-dimensional image embeddings)"
    production_ready: true

  - persona: "Research Scientists"
    primary_need: "Maximum accuracy retrieval, benchmarking"
    library_recommendation: "ScaNN (SOTA algorithms, >98% recall)"
    production_ready: true

related_research:
  - "1.006"  # Graph search (related algorithms)
  - "1.010"  # Graph analysis
  - "1.032"  # String metrics (text similarity)

cross_references:
  applications:
    - rag-systems
    - recommendation-engines
    - search-engines
    - deduplication
    - content-discovery
    - image-search
    - document-retrieval
    - embeddings
    - vector-databases
