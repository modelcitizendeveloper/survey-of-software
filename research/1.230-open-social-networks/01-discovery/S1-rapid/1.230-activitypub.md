# S1 Deep-Dive: ActivityPub Protocol (1.230)

**Research Code**: 1.230
**Category**: Open Social Networks (1.230-239)
**Date**: December 22, 2025
**Methodology**: MPSE v3.0 S1 Deep-Dive Research

---

## Executive Summary

ActivityPub is a decentralized social networking protocol standardized by the W3C in 2018 that enables federated social media platforms to interoperate seamlessly. It powers the Fediverse—a network of nearly 10 million users across 27,000+ independent servers running 48+ distinct platforms.

### Key Facts

- **Standardization**: W3C Recommendation (January 2018)
- **Current Scale**: ~10 million users, 27,000+ servers, 48+ platforms
- **Major Implementations**: Mastodon (7M+ users), Lemmy, Pixelfed, PeerTube, Misskey/Firefish
- **Core Protocols**: HTTP Signatures, WebFinger, JSON-LD, ActivityStreams 2.0
- **Main Challenge**: Moderation complexity in decentralized environments

---

## 1. Protocol Overview

### 1.1 Conceptual Foundation

ActivityPub is built on three foundational concepts:

**ActivityStreams 2.0**: A JSON-LD vocabulary for describing social activities (Create, Update, Delete, Follow, Like, Announce, etc.).

**Actor Model**: All participants are represented as "actors"—JSON-LD documents containing identity information, public keys, and references to their inbox and outbox.

**Federated Architecture**: Independent instances communicate via HTTP, allowing users to interact across server boundaries while maintaining data ownership.

### 1.2 Client-to-Server (C2S) and Server-to-Server (S2S)

**Client-to-Server (C2S) API**:
- Local interactions between user's client and home server
- REST API endpoints for create, update, delete
- Under-implemented across most servers

**Server-to-Server (S2S) Federation**:
- Delivers activities between independent servers
- HTTP POST requests with JSON-LD payloads
- RSA-signed HTTP requests for authentication
- Shared inbox pattern for efficiency

### 1.3 Actor Model

Every actor is identified by an HTTPS URI:

```json
{
  "id": "https://mastodon.social/users/alice",
  "type": "Person",
  "name": "Alice",
  "inbox": "https://mastodon.social/users/alice/inbox",
  "outbox": "https://mastodon.social/users/alice/outbox",
  "publicKey": {
    "id": "https://mastodon.social/users/alice#main-key",
    "publicKeyPem": "-----BEGIN PUBLIC KEY-----\n..."
  },
  "followers": "https://mastodon.social/users/alice/followers"
}
```

---

## 2. Major Implementations

### 2.1 Mastodon (Microblogging)

- **Users**: 7M+, 10,000+ instances
- **Stack**: Ruby on Rails + React
- **Strengths**: Largest network, mature, excellent documentation
- **Weaknesses**: Resource-intensive, discovery challenging

### 2.2 Lemmy (Reddit Alternative)

- **Language**: Rust
- **Focus**: Community-based link aggregation
- **Challenge**: Communities don't map cleanly to ActivityPub's actor model

### 2.3 Pixelfed (Instagram Alternative)

- **Language**: PHP (Laravel)
- **Focus**: Photo sharing with chronological timelines
- **Status**: Growing; native apps launched January 2025

### 2.4 PeerTube (YouTube Alternative)

- **Language**: Node.js/TypeScript
- **Focus**: Video hosting with WebTorrent P2P
- **Strength**: Addresses bandwidth costs via P2P distribution

### 2.5 Misskey/Firefish/Sharkey

- **Origin**: Japanese microblogging
- **Features**: Emoji reactions, quote posts, customizable UI
- **Note**: Firefish end-of-life 2024; Sharkey emerging replacement

---

## 3. Technical Architecture

### 3.1 Inbox/Outbox Pattern

**Outbox Flow (Publishing)**:
```
User creates post → Server creates Activity →
POST Activity to each follower's inbox
```

**Inbox Flow (Receiving)**:
```
Remote server POSTs Activity →
Validate HTTP signature →
Process activity → Return 200-202
```

### 3.2 HTTP Signatures

Every activity is signed with the sender's private key:

```
Signature: keyId="https://example.com/users/alice#main-key",
           algorithm="rsa-sha256",
           signature="jX3F0bFIjWCgwn...=="
```

### 3.3 WebFinger Discovery

Enables human-friendly handles (@user@domain):

```
GET https://example.com/.well-known/webfinger?resource=acct:alice@example.com

Response includes link to actor document
```

### 3.4 Activity Types

| Activity | Side Effect |
|----------|------------|
| **Create** | Create new object, add to inbox |
| **Update** | Modify existing object |
| **Delete** | Replace with tombstone |
| **Follow** | Add to followers collection |
| **Like** | Increment likes count |
| **Announce** | Share/boost activity |

---

## 4. Developer Experience

### 4.1 Language Libraries

| Language | Libraries | Quality |
|----------|-----------|---------|
| **JavaScript** | Fedify, ActivityPub Express | Good |
| **Python** | Pyfed, Federation | Active |
| **Go** | go-fed/activity | Excellent |
| **Ruby** | Federails (powers Mastodon) | Mature |
| **Rust** | activitypub-federation | Very good |

### 4.2 Integration Complexity

**Minimal Implementation**: 2-4 weeks
- JSON-LD processor
- RSA key management
- HTTP signature signing/verification
- Actor/inbox/outbox endpoints
- WebFinger endpoint

**Production Implementation**: 3-6 months
- Activity queueing and retry
- Moderation tooling
- Admin UI
- Rate limiting

---

## 5. Adoption

### 5.1 Network Scale (December 2025)

- **Total Users**: ~10 million
- **Servers**: 27,000+
- **Platform Types**: 48+

### 5.2 Growth Drivers

- Twitter acquisition (2022) exodus
- Better privacy than centralized platforms
- Open-source community alignment
- Meta's Threads experimenting with ActivityPub

### 5.3 Mainstream Interest

| Platform | Status |
|----------|--------|
| **Threads (Meta)** | Partial (EU/non-EEA, read-only) |
| **Flipboard** | Implemented (read-only) |
| **Ghost CMS** | In Progress |
| **Tumblr** | Repeatedly delayed |

---

## 6. Strengths

### 6.1 Decentralization
- No single entity controls the network
- Users own data on their home server
- Low barrier for new platforms

### 6.2 Interoperability
- Mastodon users can follow Pixelfed accounts
- PeerTube videos playable from Mastodon
- Different platforms in same network

### 6.3 W3C Standard
- Stable specification (2018)
- Breaking changes require new working group
- Lower vendor lock-in risk

### 6.4 Extensibility
- JSON-LD allows backward-compatible extensions
- Custom fields ignored by non-supporting servers

### 6.5 Privacy
- Can run private/single-user instance
- No algorithmic tracking
- Data ownership is structural

---

## 7. Weaknesses

### 7.1 Moderation Challenges
- No central authority for spam/abuse
- Instance admins maintain blocklists
- Spam in 2024-2025 increasing concern
- Potential re-centralization around well-moderated hubs

### 7.2 Discoverability
- Chronological timelines only
- No algorithmic recommendations
- Depends on hashtags and follows
- New users see empty timelines

### 7.3 Complexity
- Multiple interrelated standards
- WebFinger, HTTP Signatures separate from spec
- High barrier to correct implementation

### 7.4 Incomplete Specification
- C2S under-specified
- Error handling limited
- Platform-specific extensions break compatibility

### 7.5 Content Interoperability
- Lemmy communities don't map well to Mastodon
- Platform-specific features don't federate
- Works for simple activities, breaks for complex

---

## 8. Use Cases

### Best Fit
- Decentralized microblogging (Mastodon) ✅
- Federated photo sharing (Pixelfed) ✅
- Video hosting (PeerTube) ✅
- Personal blogging networks ✅

### Awkward Fit
- Community forums (Lemmy) - works but friction
- Algorithmic social networks
- Real-time collaboration

---

## 9. Comparison Summary

| Aspect | ActivityPub | AT Protocol | Nostr |
|--------|-------------|-------------|-------|
| **Architecture** | Federated servers | Client-server + DIDs | Client-relay |
| **Identity** | Server-based | DIDs (portable) | Cryptographic keys |
| **Decentralization** | Moderate | Federated with identity layer | Fully decentralized |
| **Spec Maturity** | Stable (W3C) | Evolving | Minimal |
| **User Base** | ~10M | ~15-20M | ~1M |
| **Payments** | None | None | Lightning Network |

---

## 10. Recommendations

### Good Use Cases
- Building Twitter/Instagram alternatives
- Privacy-conscious communities
- Open-source project communication
- Organizations wanting data sovereignty

### Poor Use Cases
- Algorithmic discovery-focused platforms
- Real-time sync requirements
- Mainstream consumer apps (UX friction)

### Implementation Notes
- Use existing libraries (don't implement from scratch)
- Plan moderation strategy from day one
- Test with multiple Fediverse platforms
- Expect 2-6 month implementation timeline

---

## Sources

- [ActivityPub Specification - W3C](https://www.w3.org/TR/activitypub/)
- [Mastodon Documentation](https://docs.joinmastodon.org/)
- [ActivityPub Rocks](https://activitypub.rocks/)
- [How to Implement ActivityPub - Mastodon Blog](https://blog.joinmastodon.org/2018/06/how-to-implement-a-basic-activitypub-server/)
- [go-fed/activity - GitHub](https://github.com/go-fed/activity)
- [Awesome ActivityPub - GitHub](https://github.com/BasixKOR/awesome-activitypub)
